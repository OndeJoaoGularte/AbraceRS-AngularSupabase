<div class="container mt-4">
  @if (post) {
    <a routerLink="/posts">&larr; Voltar para o blog</a>
    <h1 class="mt-3">{{ post.title }}</h1>

    <div class="meta-info text-muted mb-3">
      <span>Publicado em: {{ post.publish | date:'dd/MM/yyyy' }}</span>
      
      @if (post.updated) {
        <span> | Última edição às {{ post.updated | date:'HH:mm' }} do dia {{ post.updated | date:'dd/MM/yyyy' }}</span>
      }
    </div>

    <hr class="mb-4">
      <div>
        <div class="content-wrapper" [innerHTML]="safeHtmlContent"></div>

        @if (post.gallery_images && post.gallery_images.length > 0) {
        <div>
          <p-galleria [value]="post.gallery_images" [numVisible]="4" [circular]="true" [showItemNavigators]="true"
            [showThumbnails]="true">

            <ng-template pTemplate="item" let-item>
              <img [src]="item.itemImageSrc" style="width: 100%; display: block;" [alt]="item.alt" />
            </ng-template>
            <ng-template pTemplate="thumbnail" let-item>
              <div class="grid grid-nogutter justify-content-center">
                <img [src]="item.thumbnailImageSrc" style="width: 100px; display: block;" [alt]="item.alt" />
              </div>
            </ng-template>
          </p-galleria>
        </div>
        }
      </div>
  }
</div>